{% extends "base.html" %}

{% block title %}控制中心 - {{ user.username }}{% endblock %}

{% block header %}
{% include 'components/header.html' %}
{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="card welcome-section">
    <h1>欢迎回来, {{ user.username }}!</h1>
    <p>您正在使用 OAuth 认证平台控制中心</p>
    <div class="stats">
        <div class="stat-item">
            <span class="stat-number" id="my-apps-count">加载中</span>
            <span class="stat-label">我的应用</span>
        </div>
        <div class="stat-item">
            <span class="stat-number" id="authorized-users-count">加载中</span>
            <span class="stat-label">授权用户</span>
        </div>
        <div class="stat-item">
            <span class="stat-number" id="active-sessions-count">加载中</span>
            <span class="stat-label">活跃会话</span>
        </div>
    </div>
</div>

<!-- Dashboard Grid -->
<div class="dashboard-grid">
    <!-- Developer Center -->
    <div class="card dashboard-card">
        <div class="card-header">
            <h2 class="card-title"><i class="fas fa-code"></i> 开发者中心</h2>
        </div>
        <div class="card-content">
            <p>创建和管理您的 OAuth 应用，让其他用户可以通过您的应用进行登录授权。</p>
            <div class="button-group mt-2">
                <a href="{{ url_for('oauth_clients') }}" class="btn btn-primary">管理我的应用</a>
                <a href="{{ url_for('create_oauth_client') }}" class="btn btn-secondary">创建新应用</a>
            </div>
        </div>
    </div>

    <!-- Authorization Management -->
    <div class="card dashboard-card">
        <div class="card-header">
            <h2 class="card-title"><i class="fas fa-user-shield"></i> 授权管理</h2>
        </div>
        <div class="card-content">
            <p>查看和管理您已授权的第三方应用，控制它们对您数据的访问权限。</p>
            <div class="button-group mt-2">
                <a href="{{ url_for('authorized_apps') }}" class="btn btn-primary">管理授权</a>
                <a href="{{ url_for('authorized_apps') }}" class="btn btn-secondary">查看数据</a>
            </div>
        </div>
    </div>

    <!-- More cards... -->
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}